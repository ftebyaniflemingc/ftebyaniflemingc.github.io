<!DOCTYPE html>
<html>
  <head>
    <title>A map using the Google Maps JavaScript API</title>
    <meta name="viewport" content="initial-scale=1.0" user-scalable=no>
    <meta charset="utf-8">
    <style>
      #dmap {
        height: 800px;
      }
     html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="dmap"></div>
    <script>
      var crashmap = {
       iran: {
          center: {lat: 35.672, lng: 50.967},
          fatality: 176,
         flight: "PS-752"
        },
       Almaty: {
          center: {lat: 43.374, lng: 76.766},
          fatality: 12, 
         flight: "UP-F100"
         
        },
       Bishoftu: {
          center: {lat: 8.756, lng: 38.984},
          fatality: 157,
          flight: "ET-AVJ"
        },
        Boufarik: {
          center: {lat: 36.608, lng: 2.919},
          fatality: 257, 
          flight: "7T-WIP"
        }
       /* jakarta: {
           center: {lat: -6.181, lng: 106.858},
          fatality: 189,
          flight: "PK-PKE"
        }
        semirom: {
          center: {lat: 31.054, lng: 51.654},
          fatality: 66
        }
        Havana: {
          center: {lat: 23.078, lng: -82.339},
          population: 112
        }*/
      }
      function myMap() {
        var iran = {lat: 35.672, lng: 50.967};
        var thismap = new google.maps.Map(document.getElementById('dmap'), {
          center: iran,
          zoom: 2.5,
           mapTypeId: 'terrain'
        }); 
        
        /*
          for (var fly in crashmap){
        
          var marker = new google.maps.Marker({
          position: crashmap[fly].center,
          title: crashmap[fly].flight
          });
          }
          marker.setMap(thismap);
        */
        // showing the number of fatalities with circle size
      for (var crash in crashmap) {
          // Add the circle for this city to the map.
          var cityCircle = new google.maps.Circle({
            strokeColor: '#800080',
            strokeOpacity: 1,
            strokeWeight: 2,
            fillColor: '#800088',
            fillOpacity: 0.25,
            
            map: thismap,
            center: crashmap[crash].center,
            radius: Math.sqrt(crashmap[crash].fatality) * 20000
          });
        }
      }
      
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAHMFkBkUUlt-kMq_5HNy5Jo5_5B2wCY5c&callback=myMap"
    async defer></script>
  </body>
</html>
